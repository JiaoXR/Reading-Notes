# ç¬¬ 2 ç«   ä¸€åˆ‡éƒ½æ˜¯å¯¹è±¡

Java è¦ç¡®å®šæ¯ç§åŸºæœ¬ç±»å‹æ‰€å å­˜å‚¨ç©ºé—´çš„å¤§å°ï¼ˆä¸éšæœºå™¨ç¡¬ä»¶æ¶æ„çš„å˜åŒ–è€Œæ”¹å˜ï¼‰ã€‚

|  åŸºæœ¬ç±»å‹   |   å¤§å°    | æœ€å°å€¼  | æœ€å¤§å€¼  |   åŒ…è£…å™¨ç±»å‹   |
| :-----: | :-----: | :--: | :--: | :-------: |
| boolean |    -    |  -   |  -   |  Boolean  |
|  char   | 16-bits |      |      | Character |
|  byte   | 8 bits  | -128 | +127 |   Byte    |
|  short  | 16 bits |      |      |   Short   |
|   int   | 32 bits |      |      |  Integer  |
|  long   | 64 bits |      |      |   Long    |
|  float  | 32 bits |      |      |   Float   |
| double  | 64 bits |      |      |  Double   |
|  void   |    -    |  -   |  -   |   Void    |



- é«˜ç²¾åº¦æ•°å­—

Java æä¾›äº†ä¸¤ä¸ªé«˜ç²¾åº¦è®¡ç®—çš„ç±»ï¼š**BigInteger** å’Œ **BigDecimal** ã€‚**BigInteger** æ”¯æŒä»»æ„ç²¾åº¦çš„æ•´æ•°ï¼Œ**BigDecimal** æ”¯æŒä»»ä½•ç²¾åº¦çš„å®šç‚¹æ•°ã€‚äºŒè€…æ²¡æœ‰å¯¹åº”çš„åŸºæœ¬ç±»å‹ã€‚



- æ–¹æ³•

æ–¹æ³•åå’Œå‚æ•°åˆ—è¡¨ï¼ˆå®ƒä»¬åˆèµ·æ¥è¢«ç§°ä¸ºâ€œæ–¹æ³•ç­¾åâ€ï¼‰å”¯ä¸€åœ°æ ‡è¯†å‡ºæŸä¸ªæ–¹æ³•ã€‚



```java
System.getProperties().list(System.out);
System.out.println(System.getProperty("user.name")); // jaxer
System.out.println(System.getProperty("java.library.path"));
```



# ç¬¬ 3 ç«   æ“ä½œç¬¦

- é™æ€å¯¼å…¥

é™æ€å¯¼å…¥ï¼ˆstatic importï¼‰ï¼Œç¤ºä¾‹ä»£ç ï¼š

```java
import static net.mindview.util.Print.*;
```

- ç§»ä½æ“ä½œç¬¦

ç§»ä½æ“ä½œç¬¦çš„å¯¹è±¡ä¹Ÿæ˜¯äºŒè¿›åˆ¶çš„â€œä½â€ã€‚

`<<`: å·¦ç§»æ“ä½œç¬¦ï¼›

`>>`: â€œâ€æœ‰ç¬¦å·å³ç§»æ“ä½œç¬¦ï¼›

`>>>`: â€œæ— ç¬¦å·â€å³ç§»ä½æ“ä½œç¬¦ï¼Œæ— è®ºæ­£è´Ÿï¼Œéƒ½åœ¨é«˜ä½æ’å…¥ 0.

- sizeof()

Java æ²¡æœ‰ `sizeof()` æ“ä½œç¬¦ï¼Œå› ä¸ºæ‰€æœ‰æ•°æ®ç±»å‹åœ¨æ‰€æœ‰æœºå™¨ä¸­çš„å¤§å°éƒ½æ˜¯ç›¸åŒçš„ã€‚



# ç¬¬ 4 ç«   æ§åˆ¶æ‰§è¡Œæµç¨‹

Java ä¸å…è®¸æˆ‘ä»¬å°†ä¸€ä¸ªæ•°å­—ä½œä¸ºå¸ƒå°”å€¼ä½¿ç”¨ï¼Œè™½ç„¶è¿™åœ¨ C å’Œ C++ é‡Œæ˜¯å…è®¸çš„ï¼ˆåœ¨è¿™äº›è¯­è¨€é‡Œï¼Œâ€œçœŸâ€æ˜¯éé›¶ï¼Œâ€œå‡â€æ˜¯é›¶ï¼‰ã€‚



è‹¥åœ¨è¿”å› void çš„æ–¹æ³•ä¸­æ²¡æœ‰ return è¯­å¥ï¼Œé‚£ä¹ˆåœ¨è¯¥æ–¹æ³•çš„ç»“å°¾å¤„ä¼šæœ‰ä¸€ä¸ªéšå¼çš„ returnã€‚



- break & continue

break: å¼ºåˆ¶é€€å‡ºå¾ªç¯ï¼Œä¸æ‰§è¡Œå¾ªç¯ä¸­å‰©ä½™çš„è¯­å¥ã€‚

continue: åœæ­¢æ‰§è¡Œå½“å‰çš„è¿­ä»£ï¼Œå¼€å§‹ä¸‹ä¸€æ¬¡å¾ªç¯ã€‚



è§„åˆ™ï¼š

1. ä¸€èˆ¬çš„ continue ä¼šé€€å›åˆ°æœ€å†…å±‚å¾ªç¯çš„å¼€å¤´ï¼ˆé¡¶éƒ¨ï¼‰ï¼Œå¹¶ç»§ç»­æ‰§è¡Œã€‚
2. å¸¦æ ‡ç­¾çš„ continue ä¼šåˆ°è¾¾æ ‡ç­¾çš„ä½ç½®ï¼Œå¹¶é‡æ–°è¿›å…¥ç´§æ¥åœ¨é‚£ä¸ªæ ‡ç­¾åé¢çš„å¾ªç¯ã€‚
3. ä¸€èˆ¬çš„ break ä¼šä¸­æ–­å¹¶è·³å‡ºå½“å‰å¾ªç¯ã€‚
4. å¸¦æ ‡ç­¾çš„ break ä¼šä¸­æ–­å¹¶è·³å‡ºæ ‡ç­¾æ‰€æŒ‡çš„å¾ªç¯ã€‚

æ³¨æ„ï¼šåœ¨ Java é‡Œéœ€è¦ä½¿ç”¨æ ‡ç­¾çš„å”¯ä¸€ç†ç”±å°±æ˜¯å› ä¸ºæœ‰å¾ªç¯åµŒå¥—å­˜åœ¨ï¼Œè€Œä¸”æƒ³ä»å¤šå±‚åµŒå¥—ä¸­ break æˆ– continueã€‚

ç¤ºä¾‹ä»£ç ï¼š

```java
outer: // å¾ªç¯çš„æ ‡ç­¾
for (int i=0; i<10; i++) {
	for (int j=0; j<10; j++) {
		System.out.println(i + "--" + j);
		if (j == 5) {
			continue outer; // ç›¸å½“äº break
			// break; // break ä¼šè·³å‡ºå†…å±‚å¾ªç¯ï¼Œå¤–å±‚è¿›è¡Œä¸‹ä¸€æ¬¡å¾ªç¯
			// return; // return ä¼šè·³å‡ºæ•´ä¸ªå¾ªç¯
		}
	}
}
```



# ç¬¬ 5 ç«   åˆå§‹åŒ–ä¸æ¸…ç†

æ ¹æ®æ–¹æ³•çš„è¿”å›å€¼æ¥åŒºåˆ†é‡è½½æ–¹æ³•æ˜¯ä¸è¡ŒğŸš«çš„ï¼



- æ„é€ å™¨ä¸­è°ƒç”¨æ„é€ å™¨

å¯ä»¥ç”¨ this è°ƒç”¨ä¸€ä¸ªæ„é€ å™¨ï¼Œä½†å´ä¸èƒ½è°ƒç”¨ä¸¤ä¸ªã€‚æ­¤å¤–ï¼Œå¿…é¡»å°†æ„é€ å™¨è°ƒç”¨ç½®äºæœ€èµ·å§‹å¤„ï¼Œå¦åˆ™ç¼–è¯‘å™¨ä¼šæŠ¥é”™ã€‚



## æ„é€ å™¨åˆå§‹åŒ–

å¯ä»¥ç”¨æ„é€ å™¨æ¥è¿›è¡Œåˆå§‹åŒ–ã€‚ä½†è¦ç‰¢è®°ï¼šæ— æ³•é˜»æ­¢è‡ªåŠ¨åˆå§‹åŒ–çš„è¿›è¡Œï¼Œå®ƒå°†åœ¨æ„é€ å™¨è¢«è°ƒç”¨ä¹‹å‰å‘ç”Ÿã€‚ç¤ºä¾‹ä»£ç ï¼š

```java
public class Counter {
  int i;
  Counter() { i = 7; }
  // ...
}
```

i é¦–å…ˆä¼šè¢«ç½® 0ï¼Œç„¶åå˜æˆ 7.



- åˆå§‹åŒ–é¡ºåº

åœ¨ç±»çš„å†…éƒ¨ï¼Œå˜é‡å®šä¹‰çš„å…ˆåé¡ºåºå†³å®šäº†åˆå§‹åŒ–çš„é¡ºåºã€‚å³ä½¿å˜é‡å®šä¹‰æ•£å¸ƒäºæ–¹æ³•å®šä¹‰ä¹‹é—´ï¼Œå®ƒä»¬ä»æ—§ä¼šåœ¨ä»»ä½•æ–¹æ³•ï¼ˆåŒ…æ‹¬æ„é€ å™¨æ–¹æ³•ï¼‰è¢«è°ƒç”¨ä¹‹å‰å¾—åˆ°åˆå§‹åŒ–ã€‚

- é™æ€æ•°æ®çš„åˆå§‹åŒ–

æ— è®ºåˆ›å»ºäº†å¤šå°‘ä¸ªå¯¹è±¡ï¼Œé™æ€æ•°æ®éƒ½åªå ç”¨ä¸€ä»½å­˜å‚¨åŒºåŸŸã€‚

é™æ€åˆå§‹åŒ–åªæœ‰åœ¨å¿…è¦æ—¶åˆ»æ‰ä¼šè¿›è¡Œã€‚åªæœ‰åœ¨ç¬¬ä¸€ä¸ªå¯¹è±¡è¢«åˆ›å»ºï¼ˆæˆ–è€…ç¬¬ä¸€æ¬¡è®¿é—®é™æ€æ•°æ®ï¼‰çš„æ—¶å€™ï¼Œå®ƒä»¬æ‰ä¼šè¢«åˆå§‹åŒ–ã€‚æ­¤åï¼Œé™æ€å¯¹è±¡ä¸ä¼šå†è¢«åˆå§‹åŒ–ã€‚

- æ˜¾ç¤ºçš„é™æ€åˆå§‹åŒ–

Java å…è®¸å°†å¤šä¸ªé™æ€åˆå§‹åŒ–åŠ¨ä½œç»„ç»‡æˆä¸€ä¸ªç‰¹æ®Šçš„â€œé™æ€å­å¥â€ï¼ˆæœ‰æ—¶å€™ä¹Ÿå«â€œé™æ€å—â€ï¼‰ã€‚ç¤ºä¾‹ä»£ç ï¼š

```java
public class Spoon {
	static int i;
	static {
      i = 3;
	}
}
```

è™½ç„¶ä¸Šé¢ä»£ç çœ‹èµ·æ¥åƒä¸ªæ–¹æ³•ï¼Œä½†å®ƒå®é™…åªæ˜¯ä¸€æ®µè·Ÿåœ¨ static å…³é”®å­—åé¢çš„ä»£ç ã€‚ä¸å…¶ä»–é™æ€åˆå§‹åŒ–åŠ¨ä½œä¸€æ ·ï¼Œè¿™æ®µä»£ç ä»…æ‰§è¡Œä¸€æ¬¡ï¼šå½“é¦–æ¬¡ç”Ÿæˆè¿™ä¸ªç±»çš„ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œæˆ–è€…é¦–æ¬¡è®¿é—®å±äºé‚£ä¸ªç±»çš„é™æ€æ•°æ®æˆå‘˜æ—¶ã€‚

- æ•°ç»„åˆå§‹åŒ–

ç¼–è¯‘å™¨ä¸å…è®¸æŒ‡å®šæ•°ç»„çš„å¤§å°ã€‚

```java
int[] a = {1, 2, 3, 4, 5};
System.out.println(Arrays.toString(a)); // è¾“å‡ºç»“æœï¼š[1, 2, 3]
```

- æšä¸¾ç±»å‹

åˆ›å»º `enum` æ—¶ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨æ·»åŠ ä¸€äº›æœ‰ç”¨çš„ç‰¹æ€§ï¼Œä¾‹å¦‚ï¼Œ

1. `toString()` æ–¹æ³•ï¼ˆæ˜¾ç¤ºæŸä¸ª enum å®ä¾‹çš„åå­—ï¼‰ï¼›
2. `oridinal()` æ–¹æ³•ï¼ˆè¡¨ç¤ºæŸä¸ªç‰¹å®š enum å¸¸é‡çš„å£°æ˜é¡ºåºï¼‰ï¼›
3. `static values()` æ–¹æ³•ï¼ˆç”¨æ¥æŒ‰ç…§ enum å¸¸é‡çš„å£°æ˜é¡ºåºï¼Œäº§ç”Ÿç”±è¿™äº›å¸¸é‡å€¼æ„æˆçš„æ•°ç»„ï¼‰ã€‚

ç¤ºä¾‹ä»£ç ï¼š

```java
public enum Day {
    MON, TUE, WEN, THU, FRI, SAT, SUN
}

	public static void main(String[] args) {
		for (Day day : Day.values()) {
			System.out.println(day + ", ordinal " + day.ordinal());
		}
	}
```



# ç¬¬ 6 ç«   è®¿é—®æƒé™æ§åˆ¶

è®¿é—®æ§åˆ¶æƒé™çš„ç­‰çº§ï¼Œä»æœ€å¤§æƒé™åˆ°æœ€å°æƒé™ä¾æ¬¡ä¸ºï¼š

1. publicï¼šæ¥å£è®¿é—®æƒé™ï¼›
2. protectedï¼šç»§æ‰¿è®¿é—®æƒé™ï¼›
3. åŒ…è®¿é—®æƒé™ï¼ˆæ²¡æœ‰å…³é”®è¯ï¼‰ï¼›
4. privateï¼šä½ æ— æ³•è®¿é—®ã€‚



### ç±»çš„è®¿é—®æƒé™

æ³¨æ„ï¼šç±»æ—¢ä¸å¯ä»¥æ˜¯ private çš„ï¼ˆè¿™æ ·ä¼šä½¿å¾—é™¤è¯¥ç±»ä¹‹å¤–ï¼Œå…¶ä»–ä»»ä½•ç±»éƒ½ä¸å¯ä»¥è®¿é—®å®ƒï¼‰ï¼Œä¹Ÿä¸å¯ä»¥æ˜¯ protected çš„ã€‚æ‰€ä»¥å¯¹äºç±»çš„è®¿é—®æƒé™ï¼Œåªæœ‰ä¸¤ä¸ªé€‰æ‹©ï¼šåŒ…è®¿é—®æƒé™æˆ– publicã€‚



# ç¬¬ 7 ç«   å¤ç”¨ç±»

- ç»„åˆ
- ç»§æ‰¿
- ä»£ç†



ææ„å‡½æ•°æ˜¯ä¸€ç§åœ¨å¯¹è±¡è¢«é”€æ¯æ—¶å¯ä»¥è¢«è‡ªåŠ¨è°ƒç”¨çš„å‡½æ•°ã€‚

å‘ä¸Šè½¬å‹ï¼šå­ç±»è½¬ä¸ºçˆ¶ç±»çš„ç±»å‹ã€‚ç”±å¯¼å‡ºç±»è½¬å‹æˆåŸºç±»ï¼Œåœ¨ç»§æ‰¿å›¾ä¸Šæ˜¯å‘ä¸Šç§»åŠ¨çš„ï¼Œå› æ­¤ä¸€èˆ¬ç§°ä¸ºå‘ä¸Šè½¬å‹ã€‚

- final å…³é”®å­—

å¯¹äºå¼•ç”¨å¯¹è±¡ï¼Œfinalä½¿å¼•ç”¨æ’å®šä¸å˜ï¼Œç„¶è€Œï¼Œå¯¹è±¡å…¶è‡ªèº«æ˜¯å¯ä¿®æ”¹çš„ã€‚

ç±»ä¸­æ‰€ä»¥çš„ private æ–¹æ³•éƒ½éšå¼åœ°æŒ‡å®šä¸ºæ˜¯ final çš„ã€‚

final ç±»ç¦æ­¢ç»§æ‰¿ã€‚

ç±»çš„ä»£ç åœ¨åˆæ¬¡ä½¿ç”¨æ—¶æ‰åŠ è½½ã€‚

åˆæ¬¡ä½¿ç”¨ä¹‹å¤„ä¹Ÿæ˜¯ static åˆå§‹åŒ–å‘ç”Ÿä¹‹å¤„ã€‚æ‰€æœ‰çš„ static å¯¹è±¡å’Œ static ä»£ç æ®µéƒ½ä¼šåœ¨åŠ è½½æ—¶ä¾ç¨‹åºä¸­çš„é¡ºåºï¼ˆå³ï¼Œå®šä¹‰ç±»æ—¶çš„ä¹¦å†™é¡ºåºï¼‰è€Œä¾æ¬¡åˆå§‹åŒ–ã€‚å½“ç„¶ï¼Œå®šä¹‰ä¸º static çš„ä¸œè¥¿åªä¼šè¢«åˆå§‹åŒ–ä¾æ¬¡ã€‚



# ç¬¬ 8 ç«   å¤šæ€

å°†ä¸€ä¸ªæ–¹æ³•è°ƒç”¨åŒä¸€ä¸ªæ–¹æ³•ä¸»ä½“å…³è”èµ·æ¥è¢«ç§°ä½œ **ç»‘å®š**ã€‚

è‹¥åœ¨ç¨‹åºæ‰§è¡Œä¹‹å‰è¿›è¡Œç»‘å®šï¼ˆå¦‚æœæœ‰çš„è¯ï¼Œç”±ç¼–è¯‘å™¨å’Œè¿æ¥ç¨‹åºå®ç°ï¼‰ï¼Œå«åš **å‰æœŸç»‘å®š**ã€‚

- å‰æœŸç»‘å®š

é¢å‘è¿‡ç¨‹è¯­è¨€ä¸­ä¸éœ€è¦é€‰æ‹©å°±é»˜è®¤å®ç°çš„ç»‘å®šæ–¹å¼ã€‚ä¾‹å¦‚ C è¯­è¨€åªæœ‰ä¸€ç§æ–¹æ³•è°ƒç”¨ï¼Œå°±æ˜¯å‰æœŸç»‘å®šã€‚

- å¤šæ€

ä¹Ÿå«åŠ¨æ€ç»‘å®šã€åæœŸç»‘å®šæˆ–è¿è¡Œæ—¶ç»‘å®šã€‚åœ¨è¿è¡Œæ—¶æ ¹æ®å¯¹è±¡çš„ç±»å‹è¿›è¡Œç»‘å®šã€‚

Java ä¸­é™¤äº† static æ–¹æ³•å’Œ final æ–¹æ³•ï¼ˆprivate æ–¹æ³•å±äº final æ–¹æ³•ï¼‰ä¹‹å¤–ï¼Œå…¶ä»–æ‰€æœ‰çš„æ–¹æ³•éƒ½æ˜¯åæœŸç»‘å®šã€‚



### ç»§æ‰¿çš„ç¼ºé™·

- â€œè¦†ç›–â€ç§æœ‰æ–¹æ³•

ç¤ºä¾‹ä»£ç ï¼š

```java
public class PrivateOverride {
    private void f() { System.out.println("private f()"); }

    public static void main(String[] args) {
        PrivateOverride po = new Derived();
        po.f(); // æœŸæœ›è¾“å‡ºï¼š"public f()"ï¼›å®é™…è¾“å‡ºï¼š"private f()"
    }
}

public class Derived extends PrivateOverride {
    public void f() {
        System.out.println("public f()");
    }
}
```

åŸå› ï¼šç”±äº private æ–¹æ³•è¢«è‡ªåŠ¨è®¤ä¸ºæ˜¯ final æ–¹æ³•ï¼Œè€Œä¸”å¯¹å¯¼å‡ºç±»æ˜¯å±è”½çš„ã€‚å› æ­¤ï¼ŒDerived ä¸­çš„ f() æ–¹æ³•å°±æ˜¯ä¸€ä¸ªå…¨æ–°çš„æ–¹æ³•ã€‚æ—¢ç„¶åŸºç±»ä¸­çš„ f() æ–¹æ³•åœ¨å­ç±» Derived ä¸­ä¸å¯è§ï¼Œå› æ­¤ä¹Ÿä¸èƒ½è¢«é‡è½½ã€‚

> ç»“è®ºï¼šåªæœ‰é private æ–¹æ³•æ‰å¯ä»¥è¢«è¦†ç›–ã€‚è¿˜è¦å¯†åˆ‡æ³¨æ„è¦†ç›– private æ–¹æ³•çš„ç°è±¡ï¼Œè™½ç„¶ç¼–è¯‘å™¨ä¸ä¼šæŠ¥é”™ï¼Œä½†æ˜¯é€šå¸¸ä¹Ÿä¸ä¼šè¾¾åˆ°æˆ‘ä»¬æœŸæœ›çš„æ•ˆæœã€‚å› æ­¤ï¼Œåœ¨å¯¼å‡ºç±»ï¼ˆå­ç±»ï¼‰ä¸­ï¼Œå¯¹äºåŸºç±»ä¸­çš„ private æ–¹æ³•ï¼Œæœ€å¥½é‡‡ç”¨ä¸åŒçš„åå­—ã€‚



- åŸŸä¸é™æ€æ–¹æ³•

ç¤ºä¾‹ä»£ç ï¼š

```java
public class Super {
    public int field = 0;

    public int getField() {
        return field;
    }
}

public class Sub extends Super {
    public int field = 1;

    @Override
    public int getField() {
        return field;
    }

    public int getSuperField() {
        return super.getField();
    }
}

public class FieldAccess {
    public static void main(String[] args) {
        Super sup = new Sub();
        System.out.println("sup.field: " + sup.field +
        ", sup.getField():" + sup.getField());

        Sub sub = new Sub();
        System.out.println("sub.field: " + sub.field +
                ", sub.getField():" + sub.getField() +
                ", sub.getSuperField():" + sub.getSuperField());
    }
}

/* è¾“å‡ºç»“æœï¼š
sup.field = 0, sup.getField() = 1
sub.field = 1, sub.getField() = 1, sub.getSuperField() = 0
*/
```

å½“ Sub å¯¹è±¡è½¬å‹ä¸º Super å¼•ç”¨æ—¶ï¼Œä»»ä½•åŸŸè®¿é—®æ“ä½œéƒ½å°†ç”±ç¼–è¯‘å™¨è§£æï¼Œå› æ­¤ä¸æ˜¯å¤šæ€çš„ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œä¸º Super.field å’Œ Sub.field åˆ†é…äº†ä¸åŒçš„å­˜å‚¨ç©ºé—´ã€‚è¿™æ ·ï¼ŒSub å®é™…ä¸ŠåŒ…å«ä¸¤ä¸ªç§°ä¸º field çš„åŸŸï¼šå®ƒè‡ªå·±çš„å’Œå®ƒä» Super å¤„å¾—åˆ°çš„ã€‚ç„¶è€Œï¼Œåœ¨å¼•ç”¨ Sub ä¸­çš„ field æ—¶æ‰€äº§ç”Ÿçš„é»˜è®¤åŸŸå¹¶é Super ç‰ˆæœ¬çš„ field åŸŸã€‚å› æ­¤ï¼Œä¸ºäº†å¾—åˆ° Super.fieldï¼Œå¿…é¡»æ˜¾ç¤ºåœ°æŒ‡æ˜ super.field.



å¦‚æœæŸä¸ªæ–¹æ³•æ˜¯é™æ€çš„ï¼Œå®ƒçš„è¡Œä¸ºå°±ä¸å…·æœ‰å¤šæ€æ€§ã€‚ç¤ºä¾‹ä»£ç ï¼š

```java
public class StaticSuper {
    public static String staticGet(){
        return "Base staticGet()";
    }
    public String dynamicGet() {
        return "Base dynamicGet()";
    }
}

public class StaticSub extends StaticSuper {
    public static String staticGet() {
        return "Derived staticGet()";
    }
    public String dynamicGet() {
        return "Derived dynamicGet()";
    }
}

public class StaticPolymorphism {
    public static void main(String[] args) {
        StaticSuper sup = new StaticSub();
        System.out.println(sup.staticGet());
        System.out.println(sup.dynamicGet());
    }
}

/* è¾“å‡ºç»“æœï¼š
Base staticGet()
Derived dynamicGet()
*/
```



### æ„é€ å™¨å’Œå¤šæ€

æ„é€ å™¨ä¸åŒäºå…¶ä»–ç§ç±»çš„æ–¹æ³•ã€‚æ„é€ å™¨ä¸å…·æœ‰å¤šæ€æ€§ï¼ˆå®ƒä»¬å®é™…ä¸Šæ˜¯ static æ–¹æ³•ï¼Œåªä¸è¿‡è¯¥ static å£°æ˜æ˜¯éšå¼çš„ï¼‰ã€‚

ç¤ºä¾‹ä»£ç ï¼š

```java
class Meal() {
	Meal() { print("Meal()") }
}

class Bread() {
	Bread() { print("Bread()") }
}

class Cheese() {
	Cheese() { print("Cheese()") }
}

class Lettuce() {
	Lettuce() { print("Lettuce()") }
}

class Lunch extends Meal() {
	Lunch() { print("Meal()") }
}

class PortableLunch extends Meal() {
	PortableLunch() { print("PortableLunch()") }
}

publci class Sandwich extends PortableLunch() {
  	private Bread b = new Bread();
  	private Cheese c = new Cheese();
  	private Lettuce l = new Lettuce();
	Sandwich() { print("Sandwich()") }
	public static void main(String[] args) {
        new Sandwich();
    }
}

/* è¾“å‡ºç»“æœï¼š
Meal()
Lunch()
PortableLunch()
Bread()
Cheese()
Lettuce()
Sandwich()
*/
```

è°ƒç”¨æ„é€ å™¨çš„é¡ºåºï¼š

1. è°ƒç”¨åŸºç±»æ„é€ å™¨ã€‚è¿™ä¸ªæ­¥éª¤ä¼šä¸æ–­åœ°åå¤é€’å½’ä¸‹å»ï¼Œç›´åˆ°æœ€åº•å±‚çš„å¯¼å‡ºç±»ã€‚
2. æŒ‰å£°æ˜é¡ºåºè°ƒç”¨æˆå‘˜çš„åˆå§‹åŒ–æ–¹æ³•ã€‚
3. è°ƒç”¨å¯¼å‡ºç±»æ„é€ å™¨çš„ä¸»ä½“ã€‚



- æ„é€ å™¨å†…éƒ¨çš„å¤šæ€æ–¹æ³•çš„è¡Œä¸º

ç¤ºä¾‹ä»£ç ï¼š

```java
class Glyph {
    void draw() {
        System.out.println("Glyph.draw()");
    }
    Glyph() {
        System.out.println("Glyph() before draw()");
        draw();
        System.out.println("Glyph() after draw()");
    }
}

class RoundGlyph extends Glyph {
    private int radius = 1;

    RoundGlyph(int radius) {
        this.radius = radius;
        System.out.println("RoundGlyph.RoundGlyph(), radius = " + radius);
    }

    @Override
    void draw() {
        System.out.println("RoundGlyph.draw(), radius = " + radius);
    }
}

public class PolyConstructor {
    public static void main(String[] args) {
        new RoundGlyph(5);
    }
}

/* è¾“å‡ºç»“æœï¼š
Glyph() before draw()
RoundGlyph.draw(), radius = 0
Glyph() after draw()
RoundGlyph.RoundGlyph(), radius = 5
*/
```

åˆå§‹åŒ–çš„å®é™…è¿‡ç¨‹æ˜¯ï¼š

1. åœ¨å…¶ä»–ä»»ä½•äº‹ç‰©å‘ç”Ÿä¹‹å‰ï¼Œå°†åˆ†é…ç»™å¯¹è±¡çš„å­˜å‚¨ç©ºé—´åˆå§‹åŒ–ä¸ºäºŒè¿›åˆ¶çš„é›¶ã€‚
2. è°ƒç”¨åŸºç±»æ„é€ å™¨ã€‚æ­¤æ—¶ï¼Œè°ƒç”¨è¢«è¦†ç›–åçš„ draw() æ–¹æ³•ï¼ˆè¦åœ¨è°ƒç”¨ RoundGlyph æ„é€ å™¨ä¹‹å‰è°ƒç”¨ï¼‰ï¼Œç”±äºæ­¥éª¤ 1 çš„ç¼˜æ•…ï¼Œæ­¤æ—¶ radius çš„å€¼ä¸º 0.
3. æŒ‰ç…§å£°æ˜çš„é¡ºåºè°ƒç”¨æˆå‘˜çš„åˆå§‹åŒ–æ–¹æ³•ã€‚
4. è°ƒç”¨å¯¼å‡ºç±»çš„æ„é€ å™¨æ–¹æ³•ã€‚



> ç¼–å†™æ„é€ å™¨ä¸€æ¡æœ‰æ•ˆåœ°å‡†åˆ™ï¼šâ€œç”¨å°½å¯èƒ½ç®€å•çš„æ–¹æ³•ä½¿å¯¹è±¡è¿›å…¥æ­£å¸¸çŠ¶æ€ï¼›å¦‚æœå¯ä»¥çš„è¯ï¼Œé¿å…è°ƒç”¨å…¶ä»–æ–¹æ³•ã€‚â€



### åå˜è¿”å›ç±»å‹

ç¤ºä¾‹ä»£ç ï¼š

```java
class Grain {
    public String toString() { return "Grain"; }
}

class Wheat extends Grain {
    public String toString() { return "Wheat"; }
}

class Mill {
    Grain process(){ return new Grain(); }
}

public class WheatMill extends Mill {
    Wheat process() { return new Wheat(); }
}
```

åå˜è¿”å›ç±»å‹å…è®¸è¿”å›æ›´å…·ä½“çš„ `Wheat` ç±»å‹ã€‚



# ç¬¬ 9 ç«   æ¥å£



















